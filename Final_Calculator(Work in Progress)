LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.numeric_std.ALL;

ENTITY Final_Calculator IS
    PORT (
        A,B : IN STD_LOGIC_VECTOR(3 downto 0);
        OP  : IN STD_LOGIC_VECTOR(1 downto 0);
        R   : OUT STD_LOGIC_VECTOR(7 downto 0));
        HEX3   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Sign (from Sign_mux)
        HEX2   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Hundreds (from Displayer)
        HEX1   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Tens (from Displayer)
        HEX0   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0)   -- Ones (from Displayer)
    );
END Final_Calculator;

ARCHITECTURE Structure OF Final_Calculator IS

    -- Component declarations
    COMPONENT signed_Calculator 
        PORT (
          A,B : IN STD_LOGIC_VECTOR(3 downto 0);
          OP  : IN STD_LOGIC_VECTOR(1 downto 0);
          R   : OUT STD_LOGIC_VECTOR(7 downto 0));
    END COMPONENT;

    COMPONENT CalculatorDisplay
        PORT (
        in_num : IN  STD_LOGIC_VECTOR(7 DOWNTO 0);
        HEX3   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Sign (from Sign_mux)
        HEX2   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Hundreds (from Displayer)
        HEX1   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0);  -- Tens (from Displayer)
        HEX0   : OUT STD_LOGIC_VECTOR(6 DOWNTO 0)   -- Ones (from Displayer)
        );
    END COMPONENT;

BEGIN

-- Logic for the math
    U1: Signed_Calculator
        PORT MAP (
            A => A,
            B   => B,
            OP => OP,
            R => R
        );

-- Displays the number from the logic 
    U2: Coverter
        PORT MAP (
            in_num => R,
            HEX3 => HEX3,
            HEX2 => HEX2,
            HEX1 => HEX1,
            HEX0 => HEX0
        );

END Structure;
